"use strict";(self.webpackChunkgeekinsider_ui=self.webpackChunkgeekinsider_ui||[]).push([[765],{695:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(184),a=function(){return(0,t.jsx)("div",{className:"logo",children:"GeekInsider"})}},7765:function(e,n,r){r.r(n),r.d(n,{default:function(){return g}});var t=r(4165),a=r(5861),s=r(9439),o=r(2791),c=r(3085),u=r(4835),i=r(2409),p=r(4219),d=r(7309),l=r(8687),f=r(7689),h=r(9529),m=r(8999),Z=r(3065),x=r(695),v=r(184),g=function(){var e=(0,o.useState)(!1),n=(0,s.Z)(e,2),r=n[0],g=n[1],y=(0,f.s0)(),w=(0,l.I0)(),k=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.Z.auth("signin",{email:n,password:r});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),j=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n){var r,a,s,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,a=n.password,e.prev=1,g(!0),e.next=5,k(r,a);case 5:if(null===(s=e.sent)||void 0===s||!s.errors){e.next=10;break}return g(!1),c.Z.error({message:null===(o=s.errors)||void 0===o?void 0:o.message}),e.abrupt("return");case 10:u="userCandidate"===s.user.role?"candidate":"recruiter",w({type:"SET_USER_TYPE",payload:u}),w({type:"SET_AUTH",payload:!0}),localStorage.setItem("access_token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),g(!1),y("/home"),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(1),g(!1),"UserNotFoundException"===(null===e.t0||void 0===e.t0?void 0:e.t0.code)&&c.Z.error({message:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 23:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(n){return e.apply(this,arguments)}}();return(0,v.jsxs)(u.Z,{open:!0,maskClosable:!1,closable:!1,bodyStyle:{padding:"40px"},width:"420px",footer:null,centered:!0,children:[(0,v.jsx)(x.Z,{}),(0,v.jsxs)(i.Z,{onFinish:function(e){j(e),w({type:"SET_USER_TYPE",payload:"candidate"})},initialValues:{username:"itvxqzahzcuhxrhete@uivvn.net",password:"pass@123"},children:[(0,v.jsx)(i.Z.Item,{name:"username",rules:[{required:!0,message:"Please input your username!",type:"email"}],children:(0,v.jsx)(p.Z,{prefix:(0,v.jsx)(h.Z,{className:"site-form-item-icon"}),placeholder:"Email"})}),(0,v.jsx)(i.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,v.jsx)(p.Z.Password,{prefix:(0,v.jsx)(m.Z,{className:"site-form-item-icon"}),placeholder:"Password"})}),(0,v.jsx)(i.Z.Item,{children:(0,v.jsx)(d.Z,{type:"primary",htmlType:"submit",block:!0,loading:r,children:"Login"})}),(0,v.jsx)(i.Z.Item,{wrapperCol:{span:20},children:(0,v.jsxs)("div",{className:"login__otherlinks",children:["Not having an account? \xa0",(0,v.jsx)("a",{onClick:function(){return y("/signup")},children:"Sign up"})]})})]})]})}},3065:function(e,n,r){var t=r(4165),a=r(5861),s="http://localhost:3005",o=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}};n.Z={auth:function(e,n){return(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",fetch("".concat(s,"/api/auth/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return r.stop()}}),r)})))()},get:function(e){return(0,a.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat(s).concat(e),{method:"GET",headers:o()}).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))()},post:function(e,n){return(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",fetch("".concat(s).concat(e),{method:"POST",headers:o(),body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return r.stop()}}),r)})))()},put:function(e,n){return(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",fetch("".concat(s).concat(e),{method:"PUT",headers:o(),body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return r.stop()}}),r)})))()},delete:function(e,n){return(0,a.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",fetch("".concat(s).concat(e),{method:"DELETE",headers:o(),body:JSON.stringify(n)}).then((function(e){return e.json()})));case 1:case"end":return r.stop()}}),r)})))()}}}}]);
//# sourceMappingURL=765.8196ffb4.chunk.js.map