"use strict";(self.webpackChunkgeekinsider_ui=self.webpackChunkgeekinsider_ui||[]).push([[514],{695:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(184),a=function(){return(0,r.jsx)("div",{className:"logo",children:"GeekInsider"})}},514:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(4165),a=n(5861),o=n(9439),c=n(2791),s=n(3085),u=n(4835),i=n(2409),l=n(4219),d=n(6592),p=n(7309),f=n(9529),h=n(8999),v=n(8687),y=n(7689),m=n(3065),b=n(695),x=n(184),Z=function(){var e=(0,y.s0)(),t=(0,v.I0)(),n=(0,c.useState)(!1),Z=(0,o.Z)(n,2),g=Z[0],k=Z[1],C=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,o,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,o=t.type,e.prev=1,e.next=4,m.Z.auth("signup",{email:n,password:a,role:w(o)});case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),w=function(e){switch(e){case"candidate":return"userCandidate";case"recruiter":return"userRecruiter";default:return""}},j=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(a){var o,c,u,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a.email,c=a.password,u=a.type,n.prev=1,k(!0),n.prev=3,n.next=6,C({username:o,password:c,type:u});case 6:i=n.sent,console.log(i),s.Z.success({message:"Successfully created account",description:o}),localStorage.setItem("access_token",i.token),localStorage.setItem("user",JSON.stringify(i.user)),k(!1),t({type:"SET_AUTH",payload:!0}),e("/".concat(u,"/onboarding")),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),console.log(n.t0);case 19:n.next=25;break;case 21:n.prev=21,n.t1=n.catch(1),k(!1),"UsernameExistsException"===(null===n.t1||void 0===n.t1?void 0:n.t1.code)&&s.Z.error({message:null===n.t1||void 0===n.t1?void 0:n.t1.message});case 25:case"end":return n.stop()}}),n,null,[[1,21],[3,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,x.jsxs)(u.Z,{open:!0,maskClosable:!1,closable:!1,bodyStyle:{padding:"40px"},width:"420px",footer:null,centered:!0,children:[(0,x.jsx)(b.Z,{}),(0,x.jsxs)(i.Z,{name:"basic",initialValues:{type:"candidate"},onFinish:function(e){console.log(e),j(e),t({type:"SET_USER_TYPE",payload:e.value})},children:[(0,x.jsx)(i.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your username!"}],children:(0,x.jsx)(l.Z,{prefix:(0,x.jsx)(f.Z,{className:"site-form-item-icon"}),placeholder:"Email"})}),(0,x.jsx)(i.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,x.jsx)(l.Z.Password,{prefix:(0,x.jsx)(h.Z,{className:"site-form-item-icon"}),placeholder:"Password"})}),(0,x.jsx)(i.Z.Item,{name:"type",valuePropName:"value",label:"You are a",rules:[{required:!0}],children:(0,x.jsxs)(d.ZP.Group,{optionType:"button",buttonStyle:"solid",children:[(0,x.jsx)(d.ZP.Button,{value:"candidate",children:"Candidate"}),(0,x.jsx)(d.ZP.Button,{value:"recruiter",children:"Recruiter"})]})}),(0,x.jsx)(i.Z.Item,{children:(0,x.jsx)(p.Z,{type:"primary",htmlType:"submit",block:!0,loading:g,children:"Sign up"})}),(0,x.jsx)(i.Z.Item,{wrapperCol:{span:20},children:(0,x.jsxs)("div",{className:"signup__otherlinks",children:["Already have an account? \xa0",(0,x.jsx)("a",{onClick:function(){return e("/login")},children:"Sign in"})]})})]})]})}},3065:function(e,t,n){var r=n(4165),a=n(5861),o="http://localhost:3005",c=function(){return{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}};t.Z={auth:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat(o,"/api/auth/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))()},get:function(e){return(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(o).concat(e),{method:"GET",headers:c()}).then((function(e){return e.json()})));case 1:case"end":return t.stop()}}),t)})))()},post:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat(o).concat(e),{method:"POST",headers:c(),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))()},put:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat(o).concat(e),{method:"PUT",headers:c(),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))()},delete:function(e,t){return(0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",fetch("".concat(o).concat(e),{method:"DELETE",headers:c(),body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return n.stop()}}),n)})))()}}},6592:function(e,t,n){n.d(t,{ZP:function(){return D}});var r=n(7462),a=n(4942),o=n(9439),c=n(1694),s=n.n(c),u=n(5179),i=n(2791),l=n(1929),d=n(1815);var p=i.createContext(null),f=p.Provider,h=p,v=i.createContext(null),y=v.Provider,m=n(5987),b=n(1413),x=n(5671),Z=n(3144),g=n(136),k=n(7277),C=function(e){(0,g.Z)(n,e);var t=(0,k.Z)(n);function n(e){var r;(0,x.Z)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,a=t.onChange;n||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,b.Z)((0,b.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,Z.Z)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,o=t.className,c=t.style,u=t.name,l=t.id,d=t.type,p=t.disabled,f=t.readOnly,h=t.tabIndex,v=t.onClick,y=t.onFocus,b=t.onBlur,x=t.onKeyDown,Z=t.onKeyPress,g=t.onKeyUp,k=t.autoFocus,C=t.value,w=t.required,j=(0,m.Z)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),E=Object.keys(j).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=j[t]),e}),{}),P=this.state.checked,O=s()(n,o,(e={},(0,a.Z)(e,"".concat(n,"-checked"),P),(0,a.Z)(e,"".concat(n,"-disabled"),p),e));return i.createElement("span",{className:O,style:c},i.createElement("input",(0,r.Z)({name:u,id:l,type:d,required:w,readOnly:f,disabled:p,tabIndex:h,className:"".concat(n,"-input"),checked:!!P,onClick:v,onFocus:y,onBlur:b,onKeyUp:g,onKeyDown:x,onKeyPress:Z,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:C},E)),i.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?(0,b.Z)((0,b.Z)({},t),{},{checked:e.checked}):null}}]),n}(i.Component);C.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var w=C,j=n(8834),E=n(9125),P=n(1940),O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},S=function(e,t){var n,o=i.useContext(h),c=i.useContext(v),u=i.useContext(l.E_),d=u.getPrefixCls,p=u.direction,f=i.useRef(),y=(0,j.sQ)(t,f),m=(0,i.useContext)(P.aM).isFormItemInput,b=e.prefixCls,x=e.className,Z=e.children,g=e.style,k=e.disabled,C=O(e,["prefixCls","className","children","style","disabled"]),S=d("radio",b),N="button"===((null===o||void 0===o?void 0:o.optionType)||c)?"".concat(S,"-button"):S,I=(0,r.Z)({},C),T=i.useContext(E.Z);I.disabled=k||T,o&&(I.name=o.name,I.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===o||void 0===o?void 0:o.onChange)||void 0===r||r.call(o,t)},I.checked=e.value===o.value,I.disabled=I.disabled||o.disabled);var _=s()("".concat(N,"-wrapper"),(n={},(0,a.Z)(n,"".concat(N,"-wrapper-checked"),I.checked),(0,a.Z)(n,"".concat(N,"-wrapper-disabled"),I.disabled),(0,a.Z)(n,"".concat(N,"-wrapper-rtl"),"rtl"===p),(0,a.Z)(n,"".concat(N,"-wrapper-in-form-item"),m),n),x);return i.createElement("label",{className:_,style:g,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},i.createElement(w,(0,r.Z)({},I,{type:"radio",prefixCls:N,ref:y})),void 0!==Z?i.createElement("span",null,Z):null)};var N=i.forwardRef(S),I=i.forwardRef((function(e,t){var n,c=i.useContext(l.E_),p=c.getPrefixCls,h=c.direction,v=i.useContext(d.Z),y=(0,u.Z)(e.defaultValue,{value:e.value}),m=(0,o.Z)(y,2),b=m[0],x=m[1],Z=e.prefixCls,g=e.className,k=void 0===g?"":g,C=e.options,w=e.buttonStyle,j=void 0===w?"outline":w,E=e.disabled,P=e.children,O=e.size,S=e.style,I=e.id,T=e.onMouseEnter,_=e.onMouseLeave,F=e.onFocus,K=e.onBlur,B=p("radio",Z),D="".concat(B,"-group"),M=P;C&&C.length>0&&(M=C.map((function(e){return"string"===typeof e||"number"===typeof e?i.createElement(N,{key:e.toString(),prefixCls:B,disabled:E,value:e,checked:b===e},e):i.createElement(N,{key:"radio-group-value-options-".concat(e.value),prefixCls:B,disabled:e.disabled||E,value:e.value,checked:b===e.value,style:e.style},e.label)})));var R=O||v,U=s()(D,"".concat(D,"-").concat(j),(n={},(0,a.Z)(n,"".concat(D,"-").concat(R),R),(0,a.Z)(n,"".concat(D,"-rtl"),"rtl"===h),n),k);return i.createElement("div",(0,r.Z)({},function(e){return Object.keys(e).reduce((function(t,n){return!n.startsWith("data-")&&!n.startsWith("aria-")&&"role"!==n||n.startsWith("data-__")||(t[n]=e[n]),t}),{})}(e),{className:U,style:S,onMouseEnter:T,onMouseLeave:_,onFocus:F,onBlur:K,id:I,ref:t}),i.createElement(f,{value:{onChange:function(t){var n=b,r=t.target.value;"value"in e||x(r);var a=e.onChange;a&&r!==n&&a(t)},value:b,disabled:e.disabled,name:e.name,optionType:e.optionType}},M))})),T=i.memo(I),_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},F=function(e,t){var n=i.useContext(l.E_).getPrefixCls,a=e.prefixCls,o=_(e,["prefixCls"]),c=n("radio",a);return i.createElement(y,{value:"button"},i.createElement(N,(0,r.Z)({prefixCls:c},o,{type:"radio",ref:t})))},K=i.forwardRef(F),B=N;B.Button=K,B.Group=T,B.__ANT_RADIO=!0;var D=B}}]);
//# sourceMappingURL=514.0c42b6e5.chunk.js.map